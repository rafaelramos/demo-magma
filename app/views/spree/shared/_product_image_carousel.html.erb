<div id="product_carousel_<%= product.id %>" class="carousel slide" data-ride="carousel" data-interval="false">
  <!-- Indicators -->
  <% if product.images.count > 1 %>
    <ol class="carousel-indicators">
      <% product.images.each_with_index do |i, k| %>
        <li data-target="#product_carousel_<%= product.id %>" data-slide-to="<%= k %>" class="<%= 'active' if k == 0 %>"></li>
      <% end %>
    </ol>
  <% end %>

  <!-- Wrapper for slides -->
  <div class="carousel-inner" role="listbox">
    <% product.images.each_with_index do |i, k| %>
      <div class="item <%= 'active' if k == 0 %>">
        <div class="product-image" style="background-image: url(<%= raw_image_path(i, :large) %>)"></div>
      </div>
    <% end %>
  </div>

  <!-- Controls -->
  <% if product.images.count > 1 %>
    <a class="left carousel-control" data-target="#product_carousel_<%= product.id %>" role="button" data-slide="prev">
      <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="right carousel-control" data-target="#product_carousel_<%= product.id %>" role="button" data-slide="next">
      <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  <% end %>
</div>